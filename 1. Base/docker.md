+ [Core concepts](#core-concepts)
+ [Commands](#commands)


## Core concepts

+ [1. Что такое докер](#1-что-такое-докер)
+ [2. Docker image](#2-docker-image)
+ [3. Docker container](#3-docker-container)
+ [4. Layer based instruction](#4-layer-based-instruction)

### 1. Что такое докер

Docker — это платформа, которая позволяет упаковать в контейнер приложение со всем окружением и зависимостями, а затем доставить и запустить его в целевой системе.
Приложение, упакованное в контейнер, изолируется от операционной системы и других приложений. 
Поэтому разработчики могут не задумываться, в каком окружении будет работать их приложение, а инженеры по эксплуатации — единообразно запускать приложения и меньше заботиться о системных зависимостях.


### 2. Docker image
Образ Docker (Docker Image) - это неизменяемый файл, содержащий исходный код, библиотеки, зависимости, инструменты и другие файлы, необходимые для запуска приложения.
Это шаблон для контейнера.

Они представляют приложение и его виртуальную среду в определенный момент времени. Такая согласованность является одной из отличительных особенностей Docker. 
Он позволяет разработчикам тестировать и экспериментировать программное обеспечение в стабильных, однородных условиях.

Образ - это шаблон, на основе которого создается контейнер, существует отдельно и не может быть изменен. 
При запуске контейнерной среды внутри контейнера создается копия файловой системы (docker образа) для чтения и записи.

Содержат весь код, инстукции, данные, необходимые для создания контейнера


### 3. Docker container
Контейнер Docker (Docker Container) - это виртуализированная среда выполнения, в которой пользователи могут изолировать приложения от хостовой системы. 
Эти контейнеры представляют собой компактные портативные хосты, в которых можно быстро и легко запустить приложение.

Важной особенностью контейнера является стандартизация вычислительной среды, работающей внутри контейнера. 
Это не только гарантирует, что ваше приложение работает в идентичных условиях, но и упрощает обмен данными с другими партнерами по команде.

Контейнеры работают автономно, изолированно от основной системы и других контейнеров, и потому ошибка в одном из них не влияет на другие работающие контейнеры, а также поддерживающий их сервер.

В отличие от виртуальных машин, где виртуализация выполняется на аппаратном уровне, контейнеры виртуализируются на уровне приложений.

Работающий инстанс, созданный на основе image


### 4. Layer based instruction
При создании контейнера, докер кеширует состояние исходных файлов.
При повторной попытке создания контейнера на данных, которые не были изменены, докер не будет повторять весь процесс сначала, вместо этого возьмет из кеша
- Каждая команда в докере это отдельный слой, которая кешируется
- Если результат выполнения одной из команд не может быть взят из кеша, то все последующие команды тоже будут перевыполняться, так как нет гарантии, что после выполнения следующих команд результат результат не поменяется
- Все слои в итоге образуют image
- При создании контейнера докер создает еще один слой(layer) на основе image

## END ---------------- Core concepts ----------------


## Commands

+ [1. docker build](#1-docker-build)
+ [2. docker run](#2-docker-run)
+ [3. docker ps](#3-docker-ps)
+ [4. docker stop](#4-docker-stop)
+ [5. docker start](#5-docker-start)
+ [6. docker attach](#6-docker-attach)
+ [7. docker logs](#7-docker-logs)
+ [5. docker -(options)](#5-docker--options)


### 1. docker build
Собрать image по Dockerfile из текущей папки
`docker build .`

### 2. docker run
Запустить собранный image по id 
`docker run ac8d5bf025fb71403ddbeac8984105dbd7a5580a20accb29b3779c44a23c03dd`

Запустить собранный image на определенном порту (на каком порту будет доступен:какой порт докер контейнера)
`docker run -p 3000:3000 ac8d5bf025fb71403ddbeac8984105dbd7a5580a20accb29b3779c44a23c03dd`

Дефолтно запускат с attach модом, то есть блокирует консоль, позволяя смотреть лог докер контейнера в консоли

### 3. docker ps
Получить список запущенных контейнеров
`docker ps`
```
CONTAINER ID   IMAGE          COMMAND                  CREATED              STATUS              PORTS                                       NAMES
347a5357cfc6   ac8d5bf025fb   "docker-entrypoint.s…"   About a minute ago   Up About a minute   0.0.0.0:3000->3000/tcp, :::3000->3000/tcp   zealous_lehmann
4ed1e4cbdbe2   ac8d5bf025fb   "docker-entrypoint.s…"   About a minute ago   Up About a minute   3000/tcp  
```

### 4. docker stop
Остановить контейнер по имени
`docker stop zealous_lehmann`

### 5. docker start
Рестартануть ранее остановленный контейнер
`docker start zealous_lehmann`

Дефолтно запускат с dettach модом, то есть не блокирует консоль

Запустить контейнер, который был остановлен с attach модом
`docker start -a zealous_lehmann`
### 6. docker attach
Подключить к докер контейнеру для прослушивания логов контейнера
`docker attach zealous_lehmann`

### 7. docker logs
Получить логи контейнера, в том числе те, которые были сохранены при предыдущих запусках
`docker logs zealous_lehmann`

Посмотреть старые логи и начать слушать новые в runtime
`docker logs -f zealous_lehmann`

### 5. docker -(options)

#### docker ps
`-a`: `docker ps -a` говорит о том, что мы хотим увидеть все контейнеры, которые когда либо были созданы, а не только активные

#### docker run
`-d`: `docker run -p 3000:3000 -d ac8d5bf025fb71403ddbeac8984105dbd7a5580a20accb29b3779c44a23c03dd` run with detach mode

#### docker logs
`-f`: `docker logs -f zealous_lehmann` продолжать слушать лог в runtime

#### docker start
`-a`: Запустить остановленный контейнер с attach модом

## END ---------------- Commands ----------------

